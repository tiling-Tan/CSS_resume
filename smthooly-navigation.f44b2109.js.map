{"version":3,"sources":["js/smthooly-navigation.js"],"names":["view","document","querySelector","aTags","init","initAnimation","bindEvents","requestAnimationFrame","animate","time","TWEEN","update","scrollToElement","element","top","offsetTop","currentTop","window","scrollY","targetTop","S","t","Math","abs","coords","y","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start","querySelectorAll","i","length","onclick","x","preventDefault","a","href","currentTarget","getAttribute","open","call"],"mappings":";CAAC,WACOA,IAAAA,EAAOC,SAASC,cAAc,aAEjB,CACbF,KAAM,KACNG,MAAO,KACPC,KAAM,SAAUJ,GACPA,KAAAA,KAAOA,EACPK,KAAAA,gBACAC,KAAAA,cAGTD,cAAe,WAKXE,sBAJSC,SAAAA,EAAQC,GACbF,sBAAsBC,GACtBE,MAAMC,OAAOF,MAIrBG,gBAAiB,SAAUC,GACnBC,IAAAA,EAAMD,EAAQE,UAGdC,EAAaC,OAAOC,QACpBC,EAAYL,EAAM,GAClBM,EAAID,EAAYH,EAChBK,EAAIC,KAAKC,IAAKH,EAAE,IAAK,KACtBC,EAAI,MACHA,EAAI,KAEFG,IAAAA,EAAS,CAAEC,EAAGT,GACN,IAAIN,MAAMgB,MAAMF,GACzBG,GAAG,CAAEF,EAAGN,GAAaE,GACrBO,OAAOlB,MAAMmB,OAAOC,UAAUC,OAC9BC,SAAS,WACPf,OAAOgB,SAAS,EAAET,EAAOC,KAE3BS,SAET5B,WAAY,WAEJ,IAFgB,IAAA,EAAA,KAChBH,EAAQ,KAAKH,KAAKmC,iBAAiB,0BAC/BC,EAAI,EAAEA,EAAIjC,EAAMkC,OAAOD,IAC3BjC,EAAMiC,GAAGE,QAAU,SAACC,GAChBA,EAAEC,iBACEC,IACAC,EADIH,EAAEI,cACGC,aAAa,QACvBF,GAAY,MAAZA,EAAK,GAAW,CACX7B,IAAAA,EAAUZ,SAASC,cAAcwC,GACrC,EAAK9B,gBAAgBC,QAErBI,OAAO4B,KAAKH,OAQrBtC,KAAKJ,KAClB8C","file":"smthooly-navigation.f44b2109.js","sourceRoot":"..","sourcesContent":["!function () {\n    var view = document.querySelector('nav.menu')\n\n    var controller = {\n        view: null,\n        aTags: null,\n        init: function (view) {\n            this.view = view\n            this.initAnimation()\n            this.bindEvents()\n        \n        },\n        initAnimation: function () {\n            function animate(time) {\n                requestAnimationFrame(animate);\n                TWEEN.update(time);\n                }\n            requestAnimationFrame(animate);\n        },\n        scrollToElement: function (element) { \n            let top = element.offsetTop;\n    \n            //滚动开始\n            let currentTop = window.scrollY;\n            let targetTop = top - 65;\n            let S = targetTop - currentTop;  //路程\n            let t = Math.abs((S/100)*300);  //时间\n            if(t > 500){\n                t = 500;\n            }\n            const coords = { y: currentTop };   //起始位置\n            const tween = new TWEEN.Tween(coords)   //起始位置\n                .to({ y: targetTop }, t)    //结束位置和时间\n                .easing(TWEEN.Easing.Quadratic.InOut)  //缓动类型\n                .onUpdate(function() { \n                   window.scrollTo(0,coords.y);  //更新界面\n                })\n                .start();   //开始缓动\n        },\n        bindEvents: function () {\n            let aTags = this.view.querySelectorAll('nav.menu > ul > li > a');\n            for(var i = 0;i < aTags.length;i++){\n                aTags[i].onclick = (x) => {\n                    x.preventDefault();\n                    let a = x.currentTarget;\n                    let href = a.getAttribute('href'); //'#siteAbout'\n                    if(href[0] === '#'){\n                        let element = document.querySelector(href);\n                        this.scrollToElement(element)\n                    }else{\n                        window.open(href)\n                    }\n                }\n            }\n        }\n        \n    }\n\n    controller.init(view)\n}.call()\n"]}