{"version":3,"sources":["js/smthooly-navigation.js"],"names":["view","document","querySelector","controller","aTags","init","initAnimation","bindEvents","animate","time","requestAnimationFrame","TWEEN","update","scrollToElement","element","top","offsetTop","currentTop","window","scrollY","targetTop","S","t","Math","abs","coords","y","tween","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start","querySelectorAll","i","length","onclick","x","preventDefault","a","currentTarget","href","getAttribute","open","call"],"mappings":"AAAA,CAAC,YAAY;AACT,MAAIA,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAX;AAEA,MAAIC,UAAU,GAAG;AACbH,IAAAA,IAAI,EAAE,IADO;AAEbI,IAAAA,KAAK,EAAE,IAFM;AAGbC,IAAAA,IAAI,EAAE,cAAUL,IAAV,EAAgB;AAClB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKM,aAAL;AACA,WAAKC,UAAL;AAEH,KARY;AASbD,IAAAA,aAAa,EAAE,yBAAY;AACvB,eAASE,OAAT,CAAiBC,IAAjB,EAAuB;AACnBC,QAAAA,qBAAqB,CAACF,OAAD,CAArB;AACAG,QAAAA,KAAK,CAACC,MAAN,CAAaH,IAAb;AACC;;AACLC,MAAAA,qBAAqB,CAACF,OAAD,CAArB;AACH,KAfY;AAgBbK,IAAAA,eAAe,EAAE,yBAAUC,OAAV,EAAmB;AAChC,UAAIC,GAAG,GAAGD,OAAO,CAACE,SAAlB,CADgC,CAGhC;;AACA,UAAIC,UAAU,GAAGC,MAAM,CAACC,OAAxB;AACA,UAAIC,SAAS,GAAGL,GAAG,GAAG,EAAtB;AACA,UAAIM,CAAC,GAAGD,SAAS,GAAGH,UAApB,CANgC,CAMC;;AACjC,UAAIK,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAUH,CAAC,GAAC,GAAH,GAAQ,GAAjB,CAAR,CAPgC,CAOA;;AAChC,UAAGC,CAAC,GAAG,GAAP,EAAW;AACPA,QAAAA,CAAC,GAAG,GAAJ;AACH;;AACD,UAAMG,MAAM,GAAG;AAAEC,QAAAA,CAAC,EAAET;AAAL,OAAf,CAXgC,CAWI;;AACpC,UAAMU,KAAK,GAAG,IAAIhB,KAAK,CAACiB,KAAV,CAAgBH,MAAhB,EAA0B;AAA1B,OACTI,EADS,CACN;AAAEH,QAAAA,CAAC,EAAEN;AAAL,OADM,EACYE,CADZ,EACkB;AADlB,OAETQ,MAFS,CAEFnB,KAAK,CAACoB,MAAN,CAAaC,SAAb,CAAuBC,KAFrB,EAE6B;AAF7B,OAGTC,QAHS,CAGA,YAAW;AAClBhB,QAAAA,MAAM,CAACiB,QAAP,CAAgB,CAAhB,EAAkBV,MAAM,CAACC,CAAzB,EADkB,CACY;AAChC,OALS,EAMTU,KANS,EAAd,CAZgC,CAkBhB;AACnB,KAnCY;AAoCb7B,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACpB,UAAIH,KAAK,GAAG,KAAKJ,IAAL,CAAUqC,gBAAV,CAA2B,wBAA3B,CAAZ;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAGlC,KAAK,CAACmC,MAAxB,EAA+BD,CAAC,EAAhC,EAAmC;AAC/BlC,QAAAA,KAAK,CAACkC,CAAD,CAAL,CAASE,OAAT,GAAmB,UAACC,CAAD,EAAO;AACtBA,UAAAA,CAAC,CAACC,cAAF;AACA,cAAIC,CAAC,GAAGF,CAAC,CAACG,aAAV;AACA,cAAIC,IAAI,GAAGF,CAAC,CAACG,YAAF,CAAe,MAAf,CAAX,CAHsB,CAGa;;AACnC,cAAGD,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAf,EAAmB;AACf,gBAAI/B,OAAO,GAAGb,QAAQ,CAACC,aAAT,CAAuB2C,IAAvB,CAAd;;AACA,YAAA,KAAI,CAAChC,eAAL,CAAqBC,OAArB;AACH,WAHD,MAGK;AACDI,YAAAA,MAAM,CAAC6B,IAAP,CAAYF,IAAZ;AACH;AACJ,SAVD;AAWH;AACJ;AAnDY,GAAjB;AAuDA1C,EAAAA,UAAU,CAACE,IAAX,CAAgBL,IAAhB;AACH,CA3DA,CA2DCgD,IA3DD,EAAD","file":"smthooly-navigation.a7ef5ec7.js","sourceRoot":"..","sourcesContent":["!function () {\n    var view = document.querySelector('nav.menu')\n\n    var controller = {\n        view: null,\n        aTags: null,\n        init: function (view) {\n            this.view = view\n            this.initAnimation()\n            this.bindEvents()\n        \n        },\n        initAnimation: function () {\n            function animate(time) {\n                requestAnimationFrame(animate);\n                TWEEN.update(time);\n                }\n            requestAnimationFrame(animate);\n        },\n        scrollToElement: function (element) { \n            let top = element.offsetTop;\n    \n            //滚动开始\n            let currentTop = window.scrollY;\n            let targetTop = top - 65;\n            let S = targetTop - currentTop;  //路程\n            let t = Math.abs((S/100)*300);  //时间\n            if(t > 500){\n                t = 500;\n            }\n            const coords = { y: currentTop };   //起始位置\n            const tween = new TWEEN.Tween(coords)   //起始位置\n                .to({ y: targetTop }, t)    //结束位置和时间\n                .easing(TWEEN.Easing.Quadratic.InOut)  //缓动类型\n                .onUpdate(function() { \n                   window.scrollTo(0,coords.y);  //更新界面\n                })\n                .start();   //开始缓动\n        },\n        bindEvents: function () {\n            let aTags = this.view.querySelectorAll('nav.menu > ul > li > a');\n            for(var i = 0;i < aTags.length;i++){\n                aTags[i].onclick = (x) => {\n                    x.preventDefault();\n                    let a = x.currentTarget;\n                    let href = a.getAttribute('href'); //'#siteAbout'\n                    if(href[0] === '#'){\n                        let element = document.querySelector(href);\n                        this.scrollToElement(element)\n                    }else{\n                        window.open(href)\n                    }\n                }\n            }\n        }\n        \n    }\n\n    controller.init(view)\n}.call()\n"]}